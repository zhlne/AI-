<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"> <!-- 設定網頁的字符編碼為 UTF-8，支持多語言顯示 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- 設定視窗的寬度，適合不同裝置顯示 -->
    <title>Restaurant Selection System</title> <!-- 設定網頁標題 -->
    <style>
        /* 基本樣式 */
        body {
            font-family: Arial, sans-serif; /* 設定主要字體為 Arial */
            margin: 20px; /* 設定頁面邊距 */
            line-height: 1.6; /* 設定行距 */
            text-align: center; /* 設定文字居中 */
        }
        .hidden {
            display: none; /* 用於隱藏元素的樣式 */
        }
        .visible {
            display: block; /* 用於顯示元素的樣式 */
        }

        /* 標籤按鈕樣式 */
        .tags {
            display: flex; /* 使用 Flexbox 排列按鈕 */
            justify-content: center; /* 水平居中排列按鈕 */
            gap: 10px; /* 設定按鈕之間的間距 */
            margin-bottom: 20px; /* 按鈕區域與其他元素的下間距 */
        }
        .tag {
            padding: 10px 15px; /* 按鈕內部邊距，增加可點擊範圍 */
            border: 1px solid #ccc; /* 按鈕邊框顏色 */
            border-radius: 5px; /* 按鈕圓角邊框 */
            cursor: pointer; /* 滑鼠移到按鈕上時顯示手型指標 */
            background-color: #f0f0f0; /* 按鈕背景顏色 */
        }
        .tag.active {
            background-color: #007bff; /* 活躍按鈕的背景顏色 */
            color: white; /* 活躍按鈕的文字顏色 */
            border-color: #007bff; /* 活躍按鈕的邊框顏色 */
        }

        /* 餐廳列表樣式 */
        .restaurant-list {
            display: flex; /* 使用 Flexbox 排列餐廳選項 */
            justify-content: center; /* 水平居中排列選項 */
            flex-wrap: wrap; /* 允許選項自動換行排列 */
            gap: 15px; /* 設定選項之間的間距 */
        }
        .restaurant {
            padding: 15px; /* 餐廳選項內部邊距 */
            border: 1px solid #ccc; /* 餐廳選項邊框顏色 */
            border-radius: 5px; /* 餐廳選項圓角邊框 */
            width: 200px; /* 固定餐廳選項的寬度 */
            text-align: center; /* 餐廳選項內文字居中對齊 */
            cursor: pointer; /* 滑鼠移到選項上時顯示手型指標 */
            background-color: #f9f9f9; /* 餐廳選項的背景顏色 */
        }
        .restaurant:hover {
            background-color: #f0f0f0; /* 滑鼠懸停時餐廳選項的背景顏色 */
        }

        /* 餐廳資訊樣式 */
        .info-section {
            text-align: left; /* 餐廳資訊文字靠左對齊 */
            margin: 0 auto; /* 自動水平居中 */
            max-width: 600px; /* 設定餐廳資訊區域的最大寬度 */
            border: 1px solid #ccc; /* 設定資訊區域的邊框顏色 */
            padding: 15px; /* 設定資訊區域的內部邊距 */
            border-radius: 5px; /* 設定資訊區域的圓角邊框 */
            background-color: #f9f9f9; /* 設定資訊區域的背景顏色 */
        }

        /* 評分區域樣式 */
        .rating {
            display: flex; /* 使用 Flexbox 排列星星 */
            justify-content: center; /* 水平居中排列星星 */
            gap: 10px; /* 設定星星之間的間距 */
            margin: 20px 0; /* 設定評分區域的上下邊距 */
            flex-direction: row-reverse; /* 從右至左排列星星 */
        }
        .rating input {
            display: none; /* 隱藏評分的單選按鈕 */
        }
        .rating label {
            font-size: 32px; /* 設定星星的字型大小 */
            cursor: pointer; /* 滑鼠移到星星上時顯示手型指標 */
            color: gray; /* 未選中星星的顏色 */
        }
        .rating input:checked ~ label {
            color: gold; /* 選中星星的顏色 */
        }
        .rating label:hover, .rating label:hover ~ label {
            color: gold; /* 滑鼠懸停時從右到左高亮星星 */
        }
    </style>
</head>
<body>
    <h1>Restaurant Selection System</h1> <!-- 網站的主標題，顯示在頁面頂部 -->

    <!-- 主選單區域 -->
    <div id="section-main" class="visible"> <!-- 主選單區域，默認顯示 -->
        <h2>Welcome to the Restaurant Selection System</h2> <!-- 歡迎標語，介紹網站用途 -->
        <button onclick="goToSelection()">Select a Restaurant</button> <!-- 按鈕：進入餐廳選擇頁面 -->
    </div>

    <!-- 餐廳選擇區域 -->
    <div id="section-select" class="hidden"> <!-- 餐廳選擇區域，默認隱藏 -->
        <h2>Select a Restaurant</h2> <!-- 餐廳選擇的標題 -->
        <div class="restaurant-list"> <!-- 餐廳列表容器 -->
            <!-- 單個餐廳選項，點擊時顯示對應餐廳的詳細資訊 -->
            <div class="restaurant" data-name="Delicious Restaurant" onclick="showRestaurantInfo('Delicious Restaurant', 'Monday - Friday: 10:00 AM - 10:00 PM<br>Saturday - Sunday: 9:00 AM - 11:00 PM', '123 Food Street, Flavor Town, USA', 'Cash, Credit Card, Mobile Payments', [{name: 'Grilled Chicken Salad', price: '$12.99'}, {name: 'Margherita Pizza', price: '$10.99'}, {name: 'Spaghetti Carbonara', price: '$14.99'}, {name: 'Chocolate Lava Cake', price: '$6.99'}])">Delicious Restaurant</div>
            <div class="restaurant" data-name="Yummy Bistro" onclick="showRestaurantInfo('Yummy Bistro', 'Monday - Friday: 9:00 AM - 9:00 PM<br>Saturday - Sunday: 8:00 AM - 10:00 PM', '456 Gourmet Lane, Flavor Town, USA', 'Cash, Credit Card', [{name: 'Veggie Wrap', price: '$8.99'}, {name: 'Fruit Smoothie', price: '$5.99'}])">Yummy Bistro</div>
            <div class="restaurant" data-name="Tasty Cafe" onclick="showRestaurantInfo('Tasty Cafe', 'Daily: 7:00 AM - 8:00 PM', '789 Coffee Road, Flavor Town, USA', 'Cash, Mobile Payments', [{name: 'Latte', price: '$4.99'}, {name: 'Blueberry Muffin', price: '$2.99'}])">Tasty Cafe</div>
        </div>
        <button onclick="goBackToMain()">Back to Main Menu</button> <!-- 按鈕：返回主選單 -->
    </div>

    <!-- 餐廳資訊區域 -->
    <div id="section-info" class="hidden"> <!-- 餐廳資訊區域，默認隱藏 -->
        <div class="info-section">
            <h1 id="restaurant-name">Restaurant Name</h1> <!-- 餐廳名稱，動態更新 -->
            <h3>Business Hours</h3>
            <p id="business-hours">Hours will be displayed here</p> <!-- 餐廳營業時間，動態更新 -->
            <h3>Address</h3>
            <p id="address">Address will be displayed here</p> <!-- 餐廳地址，動態更新 -->
            <h3>Payment Methods</h3>
            <p id="payment-methods">Payment methods will be displayed here</p> <!-- 支援的付款方式，動態更新 -->
            <h3>Menu</h3>
            <ul id="menu-list"></ul> <!-- 餐廳菜單列表，動態生成 -->
        </div>
        <button onclick="goToRatings()">Rate This Restaurant</button> <!-- 按鈕：進入評分區域 -->
        <button onclick="goBackToSelection()">Back to Restaurant Selection</button> <!-- 按鈕：返回餐廳選擇 -->
    </div>

    <!-- 評分區域 -->
    <div id="section-rating" class="hidden"> <!-- 評分區域，默認隱藏 -->
        <h2>Continuous Rating Collection</h2> <!-- 評分標題 -->
        <form id="ratingForm"> <!-- 評分表單 -->
            <div class="rating"> <!-- 星星評分區域 -->
                <input type="radio" id="star1" name="rating" value="5"> <!-- 5 星 -->
                <label for="star1">&#9733;</label>
                <input type="radio" id="star2" name="rating" value="4"> <!-- 4 星 -->
                <label for="star2">&#9733;</label>
                <input type="radio" id="star3" name="rating" value="3"> <!-- 3 星 -->
                <label for="star3">&#9733;</label>
                <input type="radio" id="star4" name="rating" value="2"> <!-- 2 星 -->
                <label for="star4">&#9733;</label>
                <input type="radio" id="star5" name="rating" value="1"> <!-- 1 星 -->
                <label for="star5">&#9733;</label>
            </div>
            <button type="submit">Submit</button> <!-- 提交評分 -->
        </form>
        <p id="result"></p> <!-- 評分結果 -->
        <p id="stats"></p> <!-- 評分統計數據 -->
        <button onclick="goBackToInfo()">Back to Restaurant Info</button> <!-- 按鈕：返回餐廳資訊 -->
        <button onclick="goBackToMain()">Back to Main Menu</button> <!-- 按鈕：返回主選單 -->
    </div>

    <script>
        // 頁面區域管理對象
        const sections = {
            main: document.getElementById('section-main'),
            select: document.getElementById('section-select'),
            info: document.getElementById('section-info'),
            rating: document.getElementById('section-rating')
        };

        // 顯示餐廳選擇區域
        function goToSelection() {
            Object.values(sections).forEach(section => section.classList.add('hidden'));
            sections.select.classList.remove('hidden');
        }

        // 返回主選單
        function goBackToMain() {
            Object.values(sections).forEach(section => section.classList.add('hidden'));
            sections.main.classList.remove('hidden');
        }

        // 返回餐廳選擇區域
        function goBackToSelection() {
            Object.values(sections).forEach(section => section.classList.add('hidden'));
            sections.select.classList.remove('hidden');
        }

        // 返回餐廳資訊區域
        function goBackToInfo() {
            Object.values(sections).forEach(section => section.classList.add('hidden'));
            sections.info.classList.remove('hidden');
        }

        // 顯示評分區域
        function goToRatings() {
            Object.values(sections).forEach(section => section.classList.add('hidden'));
            sections.rating.classList.remove('hidden');
        }

        // 動態顯示餐廳資訊
        function showRestaurantInfo(name, hours, address, paymentMethods, menu) {
            Object.values(sections).forEach(section => section.classList.add('hidden'));
            sections.info.classList.remove('hidden');
            
            document.getElementById('restaurant-name').textContent = name; // 更新餐廳名稱
            document.getElementById('business-hours').innerHTML = hours; // 更新營業時間
            document.getElementById('address').textContent = address; // 更新地址
            document.getElementById('payment-methods').textContent = paymentMethods; // 更新付款方式

            const menuList = document.getElementById('menu-list'); // 獲取菜單列表
            menuList.innerHTML = ''; // 清空菜單內容
            menu.forEach(item => {
                const li = document.createElement('li'); // 創建列表項
                li.textContent = `${item.name} - ${item.price}`; // 顯示菜單項目
                menuList.appendChild(li); // 添加到菜單列表中
            });
        }

        // 評分表單邏輯
        const form = document.getElementById('ratingForm'); // 獲取表單元素
        const result = document.getElementById('result'); // 顯示結果的節點
        const stats = document.getElementById('stats'); // 顯示統計數據的節點
        const ratings = []; // 儲存評分的陣列

        form.addEventListener('submit', (event) => {
            event.preventDefault(); // 阻止表單默認提交行為
            const rating = form.rating.value; // 獲取選中的評分值

            if (rating) {
                ratings.push(Number(rating)); // 添加評分到陣列
                result.textContent = `Thank you for your rating: ${rating}!`; // 顯示感謝信息
                const totalRatings = ratings.length; // 總評分次數
                const averageRating = (ratings.reduce((a, b) => a + b, 0) / totalRatings).toFixed(2); // 計算平均分
                stats.textContent = `Total Ratings: ${totalRatings}, Average Rating: ${averageRating}`; // 顯示統計數據
            } else {
                result.textContent = 'Please select a rating before submitting!'; // 提示選擇評分
            }
            form.reset(); // 重置表單
        });
    </script>
</body>
</html>